# weather_forecast_tg_bot
Телеграм-бот, который распознаёт вопросы о том, какая сегодня погода в том или ином городе и выдаёт информацию о погоде.


Для распознавания человеческой речи я выбрала фреймворк DialogFlow, который также имеет встроенный в него ML.

Бот распознаёт русскую и английскую речь.

![IMG_6181](https://user-images.githubusercontent.com/65489941/143070695-a79edd30-3166-4e77-9577-191ca967c2e5.PNG)


Вот примеры тренировочных фраз, которые распознаёт бот:

![Dialogflow - Google Chrome 11_23_2021 5_38_44 PM (2)](https://user-images.githubusercontent.com/65489941/143044586-e4770f67-a4a1-48a6-b15b-eafc803ce3ee.png)



Для получения информации о погоде мною был выбран OpenWeather API.
Кроме того, поскольку информация о погоде в этом API выдается по параметрам latitude и longitude — ширина и долгота — мне необходимо было как-то преобразовывать город в его ширину и долготу. В этом мне помогла Python-библиотека geopy.

Я использовала Flask, чтобы написать роут, по которому осуществляется переход в само приложение.

Программа лежала на локальной машине, но DialogFlow о ней ничего не знает. Чтобы превратить её в сервер, который станет доступен в интернете, нужна особая утилита. Этим требованиям соответствует ngrok.


Вот так выглядит весь код программы:

![main py - weather_forecast_tg_bot - Visual Studio Code 11_23_2021 5_35_03 PM](https://user-images.githubusercontent.com/65489941/143043903-36128428-8b61-4ee6-8dd2-d17889efe819.png)


А вот так собственно бот и работает:

![IMG_6180](https://user-images.githubusercontent.com/65489941/143070567-38ac16f7-7a4d-499f-857b-477405ae4e8d.PNG)


В ходе разработки данного проекта, я сталкивалась с такими библиотеками как aiogram, telebot, работала с базами данных sqlite.

В будущем я планирую доделать следующее:
- сделать функцию отправки уведомлений пользователю о погоде в выбранное время в выбранном городе
- доработать тренировочные фразы в DialogFlow на русском и английском для лучшего контакта с пользователем
- предоставить возможность делиться геолокацией вместо введения названия города
- сделать тесты
